{% extends "common/base.html" %}

{% block body %}
<div class="container" style="max-width: 800px; margin: 2rem auto;">
  <div style="background: #fff; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    
    {% if skill.skil_pic %}
    <img src="{{ skill.skil_pic.url }}" alt="{{ skill.skill_name }}" style="width: 100%; height: 300px; object-fit: cover; border-radius: 10px; margin-bottom: 1rem;">
    {% endif %}
    <a href="{% url 'PostUserPorfile' skill.user.id %}" style="text-decoration: none; color: #4a90e2;">{{ skill.user.username }} â†’</a>
    <h2>{{ skill.skill_name }}</h2>
    <p><strong>Duration:</strong> {{ skill.duration }}</p>
    <p style="margin-top: 1rem;">{{ skill.description|linebreaks }}</p>

    <hr style="margin: 2rem 0;">

    <h3>ðŸ’¬ Comments</h3>
    {% for comment in comments %}
      <div style="padding: 0.5rem 0; border-bottom: 1px solid #eee;">
        <strong>{{ comment.user.username }}</strong> said:<br>
        <p style="margin: 0.2rem 0;">{{ comment.text|linebreaks }}</p>
        <small style="color: #888;">{{ comment.created_at }}</small>
      </div>
    {% empty %}
      <p>No comments yet.</p>
    {% endfor %}

    <hr style="margin: 2rem 0 1rem;">
    <h4>âž• Add a Comment</h4>
    <form method="POST">
      {% csrf_token %}
      <textarea name="comment" rows="3" placeholder="Write your comment..." required style="width: 100%; padding: 0.5rem; margin-bottom: 0.5rem; border-radius: 6px; border: 1px solid #ccc;"></textarea>
      <button type="submit" style="padding: 0.5rem 1.2rem; background-color: #4a90e2; color: white; border: none; border-radius: 6px;">Post</button>
    </form>
    
  </div>
</div>
{% endblock %}
